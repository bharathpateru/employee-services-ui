<form [formGroup]="employeeForm" (ngSubmit)="onSubmit()" class="container mt-4">

    <div class="mb-3">
      <label class="form-label">Name</label>
      <input formControlName="name" class="form-control" />
      <div *ngIf="name?.pending"> Checking for Uniqueness.... </div>
      <div *ngIf="name?.touched && name?.invalid" class="text-danger">
       <div *ngIf="name?.errors?.['required']">Name is required</div>
       <div *ngIf="name?.errors?.['minlength']">Name minLength is {{ name?.errors?.['minlength']?.requiredLength }}</div>
       <div *ngIf="name?.errors?.['cannotContainSpace']">Name cannot contain space</div>
       <div *ngIf="name?.errors?.['nameShouldbeUnique']">Name already taken.</div>
      </div>
    </div>
  
    <div class="mb-3">
      <label class="form-label">Age</label>
      <input type="number" formControlName="age" class="form-control" />
      <div *ngIf="employeeForm.get('age')?.touched && employeeForm.get('age')?.invalid" class="text-danger">
        Age must be between 18 and 65.
      </div>
    </div>
  
    <div class="mb-3">
      <label class="form-label">Email</label>
      <input type="email" formControlName="email" class="form-control" />
      <div *ngIf="employeeForm.get('email')?.touched && employeeForm.get('email')?.invalid" class="text-danger">
        Enter a valid email.
      </div>
    </div>
  
    <div class="mb-3">
      <label class="form-label">Phone Number</label>
      <input formControlName="phoneNumber" class="form-control" placeholder="123-456-7890" />
      <div *ngIf="employeeForm.get('phoneNumber')?.touched && employeeForm.get('phoneNumber')?.invalid" class="text-danger">
        Format: 123-456-7890
      </div>
    </div>
  
    <div class="mb-3">
      <label class="form-label">Department</label>
      <select formControlName="department" class="form-select">
        <option value="">Select Department</option>
        <option value="Engineering">Engineering</option>
        <option value="HR">HR</option>
        <option value="Marketing">Marketing</option>
        <option value="Finance">Finance</option>
      </select>
      <div *ngIf="employeeForm.get('department')?.touched && employeeForm.get('department')?.invalid" class="text-danger">
        Department is required.
      </div>
    </div>
  
    <fieldset formGroupName="address" class="border rounded p-3">
      <legend class="w-auto px-2">Address</legend>

      <div class="mb-3">
        <label class="form-label">Street</label>
        <input formControlName="street" class="form-control" />
        <div *ngIf="employeeForm.get('address.street')?.touched && employeeForm.get('address.street')?.invalid" class="text-danger">
          Street is required.
        </div>
      </div>
  
      <div class="mb-3">
        <label class="form-label">City</label>
        <input formControlName="city" class="form-control" />
        <div *ngIf="employeeForm.get('address.city')?.touched && employeeForm.get('address.city')?.invalid" class="text-danger">
          City is required.
        </div>
      </div>
  
      <div class="mb-3">
        <label class="form-label">State</label>
        <input formControlName="state" maxlength="2" class="form-control" />
        <div *ngIf="employeeForm.get('address.state')?.touched && employeeForm.get('address.state')?.invalid" class="text-danger">
          Use 2-letter state code (e.g. CA).
        </div>
      </div>
  
      <div class="mb-3">
        <label class="form-label">Zip Code</label>
        <input formControlName="zipCode" class="form-control" />
        <div *ngIf="employeeForm.get('address.zipCode')?.touched && employeeForm.get('address.zipCode')?.invalid" class="text-danger">
          Zip code must be 5 digits.
        </div>
      </div>
    </fieldset>
  
    <button type="submit" class="btn btn-primary mt-3">Submit</button>
  </form>